# テスト駆動開発

## 概要

確立された原則に従い、堅牢な機能開発のための TDD Red-Green-Refactor サイクルを実行する。

## 基本原則

- **Red-Green-Refactor** サイクルに従う
- 実装前にテストを記述
- 小さな単位で進める
- すべての機能に対してテストを作成

## 開発サイクル

1. **Red Phase - 失敗するテストを記述**

   - 新機能のテストを記述
   - 初期状態でテストが失敗することを確認
   - テストが正しいことをテストしていることを検証
   - テストをシンプルで焦点を絞ったものにする

2. **Green Phase - テストを通す**

   - テストを通すための最小限のコードを記述
   - コード品質はまだ気にしない
   - テストを素早く通すことに焦点を当てる
   - 過度な設計を避ける

3. **Refactor Phase - コードを改善**
   - コード品質を向上
   - 重複を削除
   - 可読性を向上
   - テストがまだ通過することを確認

## テスト構造

- **Unit Tests**: 関数/メソッドレベル
- **Integration Tests**: コンポーネント相互作用
- **E2E Tests**: ユーザー操作のシミュレーション

## カバレッジとパフォーマンス

- 目標: 80%以上のカバレッジ
- コアロジック: 100%を目指す
- 高速なテスト実行
- 外部依存関係をモック化

## TDD コマンド

```bash
# Run tests in watch mode
npm run test:watch

# Run specific test file
npm test -- feature.test.ts

# Check test coverage
npm run test:coverage

# Run tests with verbose output
npm test -- --verbose
```

## TDD チェックリスト

- [ ] 実装前にテストが記述されている
- [ ] テストが初期状態で失敗している (Red)
- [ ] テストを通すための最小限のコードが記述されている (Green)
- [ ] 品質のためにコードがリファクタリングされている
- [ ] すべてのテストがまだ通過している
- [ ] カバレッジが維持/改善されている
- [ ] 次のテストケースが特定されている
